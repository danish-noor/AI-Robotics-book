"use strict";(globalThis.webpackChunkai_book=globalThis.webpackChunkai_book||[]).push([[853],{5060(n,e,i){i.r(e),i.d(e,{assets:()=>t,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"module-2/index","title":"Simulation & Digital Twins","description":"Overview","source":"@site/docs/module-2/index.md","sourceDirName":"module-2","slug":"/module-2/","permalink":"/AI-Robotics-book/docs/module-2/","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1768307371000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Fundamentals","permalink":"/AI-Robotics-book/docs/module-1/"},"next":{"title":"NVIDIA Isaac & Perception","permalink":"/AI-Robotics-book/docs/module-3/"}}');var s=i(4848),l=i(8453);const o={},r="Simulation & Digital Twins",t={},d=[{value:"Overview",id:"overview",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Module Structure",id:"module-structure",level:2},{value:"1. Gazebo Fundamentals",id:"1-gazebo-fundamentals",level:3},{value:"Gazebo Installation and Setup",id:"gazebo-installation-and-setup",level:4},{value:"2. Robot Simulation",id:"2-robot-simulation",level:3},{value:"Loading URDF Models in Gazebo",id:"loading-urdf-models-in-gazebo",level:4},{value:"3. Sensor Simulation",id:"3-sensor-simulation",level:3},{value:"LiDAR Sensor Configuration",id:"lidar-sensor-configuration",level:4},{value:"IMU Sensor Configuration",id:"imu-sensor-configuration",level:4},{value:"4. Physics and Environment Modeling",id:"4-physics-and-environment-modeling",level:3},{value:"Gazebo World Creation",id:"gazebo-world-creation",level:4},{value:"5. Sensor Fusion and Navigation",id:"5-sensor-fusion-and-navigation",level:3},{value:"Sensor Fusion Example",id:"sensor-fusion-example",level:4},{value:"6. Simulation-to-Reality Transfer",id:"6-simulation-to-reality-transfer",level:3},{value:"Technology Stack",id:"technology-stack",level:2},{value:"Practical Exercises",id:"practical-exercises",level:2},{value:"Exercise 1: Creating a Basic Gazebo Environment",id:"exercise-1-creating-a-basic-gazebo-environment",level:3},{value:"Exercise 2: Sensor Integration and Fusion",id:"exercise-2-sensor-integration-and-fusion",level:3},{value:"Exercise 3: Navigation in Simulation",id:"exercise-3-navigation-in-simulation",level:3},{value:"Assessment Criteria",id:"assessment-criteria",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"simulation--digital-twins",children:"Simulation & Digital Twins"})}),"\n",(0,s.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(e.p,{children:"Digital twins and simulation environments are crucial for robotics development, allowing for safe, repeatable testing and rapid iteration without the risks and costs associated with physical hardware. This module focuses on Gazebo as the primary simulation platform, with considerations for Unity integration where appropriate."}),"\n",(0,s.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(e.p,{children:"By the end of this module, students will be able to:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Set up and configure Gazebo simulation environments"}),"\n",(0,s.jsx)(e.li,{children:"Create realistic physics models for robots and environments"}),"\n",(0,s.jsx)(e.li,{children:"Implement sensor simulation including LiDAR and IMU"}),"\n",(0,s.jsx)(e.li,{children:"Perform sensor fusion in simulated environments"}),"\n",(0,s.jsx)(e.li,{children:"Validate robot behaviors in simulation before hardware deployment"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Completion of Module 1 (ROS 2 fundamentals)"}),"\n",(0,s.jsx)(e.li,{children:"Understanding of basic physics concepts"}),"\n",(0,s.jsx)(e.li,{children:"Familiarity with URDF robot modeling"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"module-structure",children:"Module Structure"}),"\n",(0,s.jsx)(e.h3,{id:"1-gazebo-fundamentals",children:"1. Gazebo Fundamentals"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Gazebo architecture and components"}),"\n",(0,s.jsx)(e.li,{children:"World creation and environment modeling"}),"\n",(0,s.jsx)(e.li,{children:"Physics engine configuration (ODE, Bullet, DART)"}),"\n",(0,s.jsx)(e.li,{children:"Integration with ROS 2 via Gazebo ROS packages"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"gazebo-installation-and-setup",children:"Gazebo Installation and Setup"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Installing Gazebo Garden:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Add Gazebo repository\ncurl -sSL http://get.gazebosim.org | sh\n\n# Install Gazebo Garden\nsudo apt-get install gz-garden\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"ROS 2 Gazebo Integration:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Install Gazebo ROS packages for Humble\nsudo apt install ros-humble-gazebo-ros-pkgs ros-humble-gazebo-ros-control\n"})}),"\n",(0,s.jsx)(e.h3,{id:"2-robot-simulation",children:"2. Robot Simulation"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Loading URDF models into Gazebo"}),"\n",(0,s.jsx)(e.li,{children:"Creating robot spawn configurations"}),"\n",(0,s.jsx)(e.li,{children:"Joint control and actuator simulation"}),"\n",(0,s.jsx)(e.li,{children:"Implementing robot state publishers"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"loading-urdf-models-in-gazebo",children:"Loading URDF Models in Gazebo"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Launch file for spawning robot in Gazebo:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<launch>\n  \x3c!-- Robot State Publisher --\x3e\n  <node pkg="robot_state_publisher" exec="robot_state_publisher" name="robot_state_publisher">\n    <param name="robot_description" value="$(var robot_description_file)"/>\n  </node>\n\n  \x3c!-- Spawn Robot in Gazebo --\x3e\n  <node pkg="gazebo_ros" exec="spawn_entity.py" name="spawn_robot" args="-entity my_robot -file $(find-pkg-share my_robot_description)/urdf/my_robot.urdf"/>\n\n  \x3c!-- Launch Gazebo --\x3e\n  <include file="$(find-pkg-share gazebo_ros)/launch/gazebo.launch.py"/>\n</launch>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"3-sensor-simulation",children:"3. Sensor Simulation"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"LiDAR sensor modeling and configuration"}),"\n",(0,s.jsx)(e.li,{children:"IMU sensor simulation"}),"\n",(0,s.jsx)(e.li,{children:"Camera and depth sensor integration"}),"\n",(0,s.jsx)(e.li,{children:"Sensor noise and accuracy modeling"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"lidar-sensor-configuration",children:"LiDAR Sensor Configuration"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example LiDAR sensor in URDF:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<link name="lidar_link">\n  <visual>\n    <geometry>\n      <cylinder radius="0.05" length="0.05"/>\n    </geometry>\n    <material name="black">\n      <color rgba="0 0 0 1"/>\n    </material>\n  </visual>\n  <collision>\n    <geometry>\n      <cylinder radius="0.05" length="0.05"/>\n    </geometry>\n  </collision>\n  <inertial>\n    <mass value="0.1"/>\n    <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\n  </inertial>\n</link>\n\n<joint name="lidar_joint" type="fixed">\n  <parent link="base_link"/>\n  <child link="lidar_link"/>\n  <origin xyz="0 0 0.2" rpy="0 0 0"/>\n</joint>\n\n<gazebo reference="lidar_link">\n  <sensor name="lidar_sensor" type="ray">\n    <ray>\n      <scan>\n        <horizontal>\n          <samples>360</samples>\n          <resolution>1</resolution>\n          <min_angle>-3.14159</min_angle>\n          <max_angle>3.14159</max_angle>\n        </horizontal>\n      </scan>\n      <range>\n        <min>0.1</min>\n        <max>30.0</max>\n        <resolution>0.01</resolution>\n      </range>\n    </ray>\n    <plugin name="lidar_controller" filename="libgazebo_ros_ray_sensor.so">\n      <ros>\n        <namespace>/lidar</namespace>\n        <remapping>~/out:=scan</remapping>\n      </ros>\n      <output_type>sensor_msgs/LaserScan</output_type>\n    </plugin>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,s.jsx)(e.h4,{id:"imu-sensor-configuration",children:"IMU Sensor Configuration"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example IMU sensor in URDF:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<link name="imu_link">\n  <inertial>\n    <mass value="0.01"/>\n    <inertia ixx="0.000001" ixy="0" ixz="0" iyy="0.000001" iyz="0" izz="0.000001"/>\n  </inertial>\n</link>\n\n<joint name="imu_joint" type="fixed">\n  <parent link="base_link"/>\n  <child link="imu_link"/>\n  <origin xyz="0 0 0.1" rpy="0 0 0"/>\n</joint>\n\n<gazebo reference="imu_link">\n  <sensor name="imu_sensor" type="imu">\n    <always_on>true</always_on>\n    <update_rate>100</update_rate>\n    <topic>imu/data</topic>\n    <plugin name="imu_plugin" filename="libgazebo_ros_imu_sensor.so">\n      <ros>\n        <namespace>/imu</namespace>\n        <remapping>~/out:=data</remapping>\n      </ros>\n      <initial_orientation_as_reference>false</initial_orientation_as_reference>\n    </plugin>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"4-physics-and-environment-modeling",children:"4. Physics and Environment Modeling"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Creating realistic environments"}),"\n",(0,s.jsx)(e.li,{children:"Material properties and surface interactions"}),"\n",(0,s.jsx)(e.li,{children:"Dynamic object simulation"}),"\n",(0,s.jsx)(e.li,{children:"Environmental effects (lighting, weather)"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"gazebo-world-creation",children:"Gazebo World Creation"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Example world file (my_world.sdf):"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<sdf version="1.7">\n  <world name="my_world">\n    \x3c!-- Include outdoor environment --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- Ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Custom objects --\x3e\n    <model name="table">\n      <pose>2 0 0 0 0 0</pose>\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <box>\n              <size>1.0 0.5 0.8</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <box>\n              <size>1.0 0.5 0.8</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>0.8 0.6 0.2 1</ambient>\n            <diffuse>0.8 0.6 0.2 1</diffuse>\n          </material>\n        </visual>\n        <inertial>\n          <mass>10.0</mass>\n          <inertia>\n            <ixx>1.0</ixx>\n            <ixy>0.0</ixy>\n            <ixz>0.0</ixz>\n            <iyy>1.0</iyy>\n            <iyz>0.0</iyz>\n            <izz>1.0</izz>\n          </inertia>\n        </inertial>\n      </link>\n    </model>\n\n    \x3c!-- Physics parameters --\x3e\n    <physics name="ode" type="ode">\n      <gravity>0 0 -9.8</gravity>\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1</real_time_factor>\n      <real_time_update_rate>1000</real_time_update_rate>\n    </physics>\n  </world>\n</sdf>\n'})}),"\n",(0,s.jsx)(e.h3,{id:"5-sensor-fusion-and-navigation",children:"5. Sensor Fusion and Navigation"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Combining LiDAR and IMU data"}),"\n",(0,s.jsx)(e.li,{children:"Simulated navigation stack testing"}),"\n",(0,s.jsx)(e.li,{children:"SLAM algorithm validation in simulation"}),"\n",(0,s.jsx)(e.li,{children:"Path planning and obstacle avoidance"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"sensor-fusion-example",children:"Sensor Fusion Example"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Robot Localization using EKF:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:"# ekf_config.yaml\nfrequency: 50\n\n# Frame definitions\nmap_frame: map\nodom_frame: odom\nbase_link_frame: base_link\nworld_frame: odom\n\n# Enable dynamic process noise covariance\nenable_dynamic_process_noise_covariance: true\n\n# Publishers\npublish_tf: true\npublish_acceleration: false\n\n# Sensor configuration\nodom0: /odom\nodom0_config: [true, true, false,\n                false, false, true,\n                false, false, false,\n                false, false, false,\n                false, false, false]\n\nimu0: /imu/data\nimu0_config: [false, false, false,\n              true, true, true,\n              false, false, false,\n              true, true, true,\n              false, false, false]\n"})}),"\n",(0,s.jsx)(e.h3,{id:"6-simulation-to-reality-transfer",children:"6. Simulation-to-Reality Transfer"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Identifying sim-to-real gaps"}),"\n",(0,s.jsx)(e.li,{children:"Techniques for improving transferability"}),"\n",(0,s.jsx)(e.li,{children:"Validation strategies for hardware deployment"}),"\n",(0,s.jsx)(e.li,{children:"Performance comparison between simulation and reality"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Primary Simulator"}),": Gazebo Garden"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS 2 Integration"}),": Gazebo ROS packages"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Physics Engine"}),": ODE (Open Dynamics Engine)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Visualization"}),": RViz2 with Gazebo GUI"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Alternative"}),": Unity 2023.x (for game-engine based simulation)"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"practical-exercises",children:"Practical Exercises"}),"\n",(0,s.jsx)(e.h3,{id:"exercise-1-creating-a-basic-gazebo-environment",children:"Exercise 1: Creating a Basic Gazebo Environment"}),"\n",(0,s.jsx)(e.p,{children:"Create a simple simulation environment with your robot:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Create a world file with basic obstacles"}),"\n",(0,s.jsx)(e.li,{children:"Spawn your robot model in the environment"}),"\n",(0,s.jsx)(e.li,{children:"Verify that sensors are publishing data"}),"\n",(0,s.jsx)(e.li,{children:"Test basic movement commands in simulation"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"exercise-2-sensor-integration-and-fusion",children:"Exercise 2: Sensor Integration and Fusion"}),"\n",(0,s.jsx)(e.p,{children:"Integrate multiple sensors and perform sensor fusion:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Add LiDAR and IMU sensors to your robot URDF"}),"\n",(0,s.jsx)(e.li,{children:"Configure the robot_localization package for state estimation"}),"\n",(0,s.jsx)(e.li,{children:"Verify that sensor data is being fused correctly"}),"\n",(0,s.jsx)(e.li,{children:"Compare estimated pose with ground truth from simulation"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"exercise-3-navigation-in-simulation",children:"Exercise 3: Navigation in Simulation"}),"\n",(0,s.jsx)(e.p,{children:"Set up navigation stack in simulation:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Configure costmap parameters for your robot"}),"\n",(0,s.jsx)(e.li,{children:"Set up global and local planners"}),"\n",(0,s.jsx)(e.li,{children:"Test navigation to multiple goals in simulation"}),"\n",(0,s.jsx)(e.li,{children:"Evaluate navigation performance metrics"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"assessment-criteria",children:"Assessment Criteria"}),"\n",(0,s.jsx)(e.p,{children:"Students will demonstrate proficiency by:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Creating a complete simulation environment with obstacles"}),"\n",(0,s.jsx)(e.li,{children:"Implementing sensor fusion algorithms that combine LiDAR and IMU data"}),"\n",(0,s.jsx)(e.li,{children:"Successfully navigating a robot through the simulated environment"}),"\n",(0,s.jsx)(e.li,{children:"Comparing simulation results with theoretical expectations"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"This module bridges the gap between theoretical robotics concepts and practical implementation, providing a safe environment for testing complex behaviors before hardware deployment."})]})}function u(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},8453(n,e,i){i.d(e,{R:()=>o,x:()=>r});var a=i(6540);const s={},l=a.createContext(s);function o(n){const e=a.useContext(l);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),a.createElement(l.Provider,{value:e},n.children)}}}]);